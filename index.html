<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Estoque</title>
    <link href="assets/bootstrap-5.2.1-dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/css/datatables.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- header -->
    <nav class="navbar navbar-expand navbar-light navbar-custom">
        <a class="btn btn-link me-3" id="toggleSidebar">
            <i class="bi bi-list" style="color: black;"></i>
        </a>

        <a class="navbar-brand" href="#">Sistema de Estoque</a>

        <div class="ms-auto  d-flex align-items-center gap-3">
            <p class="text-dark text-center margin-auto">Bem vindo, <a style="text-decoration: none; color: black;"
                    href="assets/pages/perfil.php"><b>Usuário</b></a></p>
        </div>
    </nav>

    <!-- sidebar -->
    <section class="sidebar" id="sidebar">
        <!--<a href="../../index.html"><i class="bi bi-speedometer2"></i><span> Produtos</span></a> -->
        <a href="#"><i class="bi bi-box-seam"></i><span> Produtos</span></a>
        <a href="assets/pages/usuarios.html"><i class="bi bi-people"></i><span> Usuários</span></a>
        <a href="assets/pages/configuracoes.html"><i class="bi bi-gear"></i><span> Configurações</span></a>
        <a href="assets/pages/help.html"><i class="bi bi-info-circle"></i><span> HelpDesk</span></a>
        <a href="assets/pages/notificacoes.php" class="notification-link">
            <i class="bi bi-bell"></i> Notificações
            <span class="notification-badge hiddenBadge"></span>
        </a>       
        <a href="assets/pages/futuras.html"><i class="bi bi-capslock"></i> Futuras Implementações</a>
        <a href="assets/pages/exit.php"><i class="bi bi-box-arrow-left"></i><span> Sair</span></a>
    </section>

    <main class="main-content" id="mainContent">
        <section class="main_text">
            <h1>Bem-vindo, <b>User</b>!</h1>
            <p>Aqui vai ficar a listagem de produtos.</p>
        </section>

        <section class="botoes">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal_cadastrar">
                Cadastrar Produto
            </button>

            <!-- Modal -->
            <div class="modal fade" id="modal_cadastrar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header bg-primary text-white">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Cadastro de Produto</h1>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <span id="msgAlertErroCad">
                            </span>
                            <form class="row g-3" method="POST" id="form_cadastro" enctype="multipart/form-data">
                                <input type="hidden" id="id" name="id">
                                <div class="col-md-6">
                                    <label for="inputname" class="form-label">Nome</label>
                                    <input type="text" class="form-control" id="inputname" name="nome"
                                        placeholder="Nome do produto">
                                </div>

                                <div class="col-md-6">
                                    <label for="inputcode" class="form-label">Código</label>
                                    <input type="text" class="form-control" id="inputcode" name="codigo"
                                        placeholder="Código do produto">
                                </div>

                                <div class="col-12">
                                    <label for="inputdesc" class="form-label">Descrição</label>
                                    <input type="text" class="form-control" id="inputdesc" name="descricao"
                                        placeholder="Descrição do produto">
                                </div>

                                <!-- <div class="col-md-8">
                                    <label for="inputimg" class="form-label">Imagem</label>
                                    <input type="text" class="form-control" id="inputimg" name="imagem" disabled
                                        placeholder="Ainda tem que implementar">
                                </div> -->

                                <div class="col-md-12">
                                    <label for="imagem" class="form-label">Imagem do Produto</label>
                                    <input type="file" class="form-control" id="imagem" name="imagem" accept="image/*">
                                </div>

                                <div class="col-md-6">
                                    <label for="inputdisponivel" class="form-label">Disponível</label>
                                    <select id="inputdisponivel" class="form-select" name="disponivel">
                                        <option value="Sim" selected>Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="inputprice" class="form-label">Valor Unitário (R$)</label>
                                    <input type="text" class="form-control" id="inputprice" name="valor"
                                        placeholder="R$00,00">
                                </div>

                                <div class="col-md-8">
                                    <label for="inputcategoria" class="form-label">Categoria</label>
                                    <select id="inputcategoria" class="form-select" name="categoria">
                                        <option value="categoria" selected>Categoria</option>
                                        <option value="...">...</option>
                                    </select>
                                </div>

                                <div class="col-md-4">
                                    <label for="inputquant" class="form-label">Quant.</label>
                                    <input type="number" class="form-control" id="inputquant" name="quantidade"
                                        placeholder="0">
                                </div>

                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="gridCheck" name="estoque" value="fora">
                                        <label class="form-check-label" for="gridCheck">
                                            Fora de estoque
                                        </label>
                                    </div>
                                </div>
                                <hr>
                                <div class="col-12 d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Fechar</button>
                                    <button type="submit" class="btn btn-outline-primary">Cadastrar</button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
            </div>

            <!-- modal de detalhes -->
            <div class="modal fade" id="visUserModal" tabindex="-1" aria-labelledby="visUserModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-md modal-dialog-centered">
                    <div class="modal-content shadow-lg border-0">

                        <!-- Cabeçalho -->
                        <div class="modal-header bg-primary text-white">
                            <h5 class="modal-title" id="visUserModalLabel">
                                <i class="bi bi-box-seam me-2"></i> Detalhes do Produto
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
                        </div>

                        <!-- Corpo -->
                        <div class="modal-body">
                            <dl class="row g-3">
                                <div class="col-12 text-center">
                                    <img id="imgProduto" src="" class="img-fluid rounded" alt="Imagem do Produto" style="height: 200px;">
                                </div>
                                <div class="col-md-6">
                                    <input type="hidden" id="list_id" name="id">
                                    <dt class="fw-bold ">Código</dt>
                                    <dd class="text-dark"><span id="codigo"></span></dd>
                                </div>
                                <div class="col-md-6">
                                    <dt class="fw-bold ">Nome</dt>
                                    <dd class="text-dark"><span id="nome"></span></dd>
                                </div>
                                <div class="col-md-6">
                                    <dt class="fw-bold ">Estoque</dt>
                                    <dd class="text-dark"><span id="estoque"></span></dd>
                                </div>
                                <div class="col-md-6">
                                    <dt class="fw-bold ">Quantidade em Estoque</dt>
                                    <dd class="text-dark"><span id="quantidade"></span></dd>
                                </div>
                                <div class="col-md-6">
                                    <dt class="fw-bold ">Valor Unitário</dt>
                                    <dd class="text-dark"><span id="valor"></span></dd>
                                </div>
                                <div class="col-md-6">
                                    <dt class="fw-bold ">Categoria</dt>
                                    <dd class="text-dark"><span id="categoria"></span></dd>
                                </div>
                                <div class="col-12">
                                    <dt class="fw-bold ">Descrição</dt>
                                    <dd class="text-dark"><span id="descricao"></span></dd>
                                </div>

                                <hr>

                                <div class="col-12 d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Fechar</button>
                                </div>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal para Editar -->
            <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <!-- Cabeçalho -->
                        <div class="modal-header bg-primary text-white">
                            <h5 class="modal-title" id="EditModalLabel">
                                <i class='bi bi-pencil-fill me-2'></i> Editar Produto
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
                        </div>

                        <!-- Corpo -->
                        <div class="modal-body">
                            <span id="msgAlertErroEdit">
                            </span>
                            <form class="row g-3" method="POST" id="form_editar">
                                <input type="hidden" id="edit_id" name="id">

                                <div class="col-md-6">
                                    <label for="inputname" class="form-label">Nome</label>
                                    <input type="text" class="form-control" id="edit_nome" name="nome"
                                        placeholder="Nome do produto">
                                </div>

                                <div class="col-md-6">
                                    <label for="inputcode" class="form-label">Código</label>
                                    <input type="text" class="form-control" id="edit_codigo" name="codigo"
                                        placeholder="Código do produto">
                                </div>

                                <div class="col-12">
                                    <label for="inputdesc" class="form-label">Descrição</label>
                                    <input type="text" class="form-control" id="edit_descricao" name="descricao"
                                        placeholder="Descrição do produto">
                                </div>

                                <div class="col-md-8">
                                    <label for="inputimg" class="form-label">Imagem</label>
                                    <!-- Pré-visualização da imagem atual -->
                                    <div class="mb-2">
                                        <img id="edit_img_preview" src="" alt="Imagem atual" class="img-thumbnail" style="max-height:150px;">
                                    </div>
                                    <!-- Input para selecionar nova imagem -->
                                    <input type="file" class="form-control" id="edit_imagem" name="imagem" accept="image/*">
                                    <small class="text-muted">Selecione uma nova imagem para substituir a atual (opcional).</small>
                                </div>

                                <div class="col-md-4">
                                    <label for="inputdisponivel" class="form-label">Disponível</label>
                                    <select id="edit_disponivel" class="form-select" name="disponivel">
                                        <option value="Sim" selected>Sim</option>
                                        <option value="Não">Não</option>
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="inputprice" class="form-label">Valor Unitário (R$)</label>
                                    <input type="text" class="form-control" id="edit_valor" name="valor"
                                        placeholder="R$00,00">
                                </div>

                                <div class="col-md-4">
                                    <label for="inputcategoria" class="form-label">Categoria</label>
                                    <select id="edit_categoria" class="form-select" name="categoria">
                                        <option value="categoria" selected>Categoria</option>
                                        <option value="...">...</option>
                                    </select>
                                </div>

                                <div class="col-md-2">
                                    <label for="inputquant" class="form-label">Quant.</label>
                                    <input type="number" class="form-control" id="edit_quantidade" name="quantidade"
                                        placeholder="0">
                                </div>

                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="edit_estoque" name=estoque" value="fora">
                                        <label class="form-check-label" for="gridCheck">
                                            Fora de estoque
                                        </label>
                                    </div>
                                </div>
                                <hr>
                                <div class="col-12 d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Fechar</button>
                                    <button type="submit" value="editar" class="btn btn-outline-warning">Editar</button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>
            </div>

        </section>
        <hr>
        <section class="tabela">
            <span id="msgAlertErroListar">
            </span>
            <table id="tabela" class="table table-bordered display" style="width:100%">
                <thead>
                    <tr>
                        <th>Codigo</th>
                        <th>Nome</th>
                        <th>Disponível</th>
                        <th>Quantidade</th>
                        <th>Valor (R$)</th>
                        <th>Categoria</th>
                        <th>Ações</th>
                    </tr>
                </thead>
            </table>

        </section>

        <footer>
        © 2025   <a style="text-decoration: none; color: black; font-weight: bold;" href="https://www.linkedin.com/in/matheuskauandums/" target="_blank">Matheus Kauan Dums</a> - Sistema de Estoque v.1.0.0<!--  - All Rights Reserved. -->
        </footer>

    </main>


    <script src="assets/js/jquery-3.7.1.min.js"></script>
    <script src="assets/bootstrap-5.2.1-dist/js/bootstrap.min.js"></script>
    <script src="assets/js/datatables.min.js"></script>
    <script src="assets/js/main.js?v=<?= filemtime('assets/js/main.js') ?>"></script>
    <script src="assets/js/script.js?v=<?= filemtime('assets/js/script.js') ?>"></script>

</body>

</html>